import{j as o}from"./jsx-runtime-CKrituN3.js";import{r as t,R as N}from"./index-CBqU2yxZ.js";import{m as q}from"./mapCSSVarsToStyles-Cs2nQxcE.js";import{u as j}from"./Notes-CLPFxSgn.js";function E(e,r){t.useEffect(()=>{const n=a=>{e&&a.key==="Escape"&&r()};return document.addEventListener("keyup",n,!1),()=>{document.removeEventListener("keyup",n,!1)}},[e,r])}function L(){const[e,r]=t.useState("auto");return t.useLayoutEffect(()=>{const a=Array.from(document.querySelectorAll("body *")).reduce((s,m)=>{const u=parseFloat(window.getComputedStyle(m).zIndex);return u&&!Number.isNaN(m)&&s.push(u),s},[]).sort().pop(),i=typeof a=="number"?a+1:"auto";r(i)},[]),e}const V=(e,r,n)=>{const{current:a}=t.useRef(document.body.style),i=t.useRef(""),s=t.useCallback(()=>{a[e]=i.current,a.length||document.body.removeAttribute("style")},[a,e]);t.useLayoutEffect(()=>(i.current=a[e]||"",()=>{s()}),[a,e,s]),t.useLayoutEffect(()=>{n?a[e]=r:s()},[a,n,e,s,r])},$=o.jsx("svg",{x:"0px",y:"0px",width:"12px",height:"12px",viewBox:"0 0 348.333 348.334",children:o.jsx("path",{d:`M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85
		c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563
		c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85
		l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554
		L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z`})}),{genClassNames:B}=j,P=["px","%","em","rem","vw","vh","vmin","vmax"],W=["modalPadding","lightModeOverlayColor","darkModeOverlayColor","lightModeTextColor","darkModeTextColor","lightModeBackgroundColor","darkModeBackgroundColor","lightModeHeaderColor","darkModeHeaderColor","lightModeHeaderShadow","darkModeHeaderShadow","lightModeBorderColor","darkModeBorderColor","smallWidth","mediumWidth","largeWidth","fullWidth","modalYPosition","breakXs","breakSm","breakMd","breakLg"],p=({isOpen:e=!1,size:r="medium",onClose:n=()=>{},closeBtn:a=!0,closeOnOverlayClick:i=!0,animationSupport:s=!0,animationCloseTimeout:m=300,header:u,footer:c,overlayColor:l,darkMode:x=!1,cssVars:b,cssModule:g={},children:C})=>{const[S,y]=t.useState(!e),[w,v]=t.useState(e),h=t.useRef();t.useLayoutEffect(()=>(e?(y(!1),s&&(h.current=window.setTimeout(()=>{v(!0)},0))):s?(v(!1),h.current=window.setTimeout(()=>{y(!0)},m)):y(!0),()=>window.clearTimeout(h.current)),[m,s,e]),V("overflow","hidden",e);const M=L();E(e,n);const{clsName:d}=N.useMemo(()=>B(p.displayName,g),[g]),T=t.useCallback(f=>{if(!i)return;f.stopPropagation(),f.target.getAttribute("data-modal")&&n()},[i,n]),k=t.useMemo(()=>P.some(f=>r.endsWith(f))?{maxWidth:r}:void 0,[r]),R=t.useMemo(()=>typeof l=="object"&&"light"in l?{"--unl-light-mode-overlay-color":l.light,"--unl-dark-mode-overlay-color":l.dark}:typeof l=="string"?{"--unl-light-mode-overlay-color":l,"--unl-dark-mode-overlay-color":l}:!1,[l]);return S?null:o.jsx("div",{onClick:T,"data-modal":"true","data-theme":x?"dark":"light",className:d("overlay"),style:{...l&&R,zIndex:M,...q({cssVars:b,varNames:W})},children:o.jsxs("div",{className:`${d("child")}${k?"":` ${d(`child--${r}`)}`} ${s&&w?`${d("child--in")}`:""}`,style:k,children:[a&&o.jsx("div",{className:d("close"),children:o.jsx("button",{onClick:n,type:"button",className:d("closeBtn"),children:$})}),u&&o.jsx("header",{className:d("header"),children:typeof u=="string"?u:o.jsx(u,{})}),o.jsx("div",{className:d("body"),children:C}),c&&o.jsx("footer",{className:d("footer"),children:typeof c=="string"?c:o.jsx(c,{})})]})})};p.displayName="modal";const F=p;p.__docgenInfo={description:"",methods:[],displayName:"modal",props:{isOpen:{required:!1,tsType:{name:"boolean"},description:"Modal state",defaultValue:{value:"false",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"| 'small'\n| 'medium'\n| 'large'\n| 'full'\n| `${number}${(typeof cssUnits)[number]}`",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'full'"},{name:"literal",value:"`${number}${(typeof cssUnits)[number]}`"}]},description:"Size of the modal, either as a preset or a custom CSS size",defaultValue:{value:"'medium'",computed:!1}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"(e?: React.MouseEvent) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"e"}],return:{name:"void"}}},description:"Handler to close the modal. Use to set the modal state",defaultValue:{value:"() => undefined",computed:!1}},closeOnOverlayClick:{required:!1,tsType:{name:"boolean"},description:"CLose modal on overlay click",defaultValue:{value:"true",computed:!1}},animationSupport:{required:!1,tsType:{name:"boolean"},description:`When the modal opens/closes, add animation classes and
preserve the modal in the DOM for the length of a timeout`,defaultValue:{value:"true",computed:!1}},animationCloseTimeout:{required:!1,tsType:{name:"number"},description:"Time in milliseconds to keep the modal in the DOM and animation classes active",defaultValue:{value:"300",computed:!1}},header:{required:!1,tsType:{name:"union",raw:"React.FC<any> | string",elements:[{name:"ReactFC",raw:"React.FC<any>",elements:[{name:"any"}]},{name:"string"}]},description:"Custom header component"},footer:{required:!1,tsType:{name:"union",raw:"React.FC<any> | string",elements:[{name:"ReactFC",raw:"React.FC<any>",elements:[{name:"any"}]},{name:"string"}]},description:"Custom footer component"},overlayColor:{required:!1,tsType:{name:"union",raw:`| {
    light: string;
    dark: string;
  }
/** One overlay color regardless of light/dark mode */
| string
/** Transparent overlay */
| false`,elements:[{name:"signature",type:"object",raw:`{
  light: string;
  dark: string;
}`,signature:{properties:[{key:"light",value:{name:"string",required:!0}},{key:"dark",value:{name:"string",required:!0}}]}},{name:"string"},{name:"literal",value:"false"}]},description:"Color of the overlay"},closeBtn:{required:!1,tsType:{name:"boolean"},description:"Add a close button to the header",defaultValue:{value:"true",computed:!1}},darkMode:{required:!1,tsType:{name:"boolean"},description:`Boolean to toggle component's data-theme attribute
between light and dark mode`,defaultValue:{value:"false",computed:!1}},cssVars:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  [name in TVarNames[number]]?: CSSProperties[keyof CSSProperties];
}`,signature:{properties:[{key:{name:"varNames[number]",raw:"TVarNames[number]",required:!1},value:{name:"CSSProperties[CSSProperties]",raw:"CSSProperties[keyof CSSProperties]"}}]}},description:"CSS custom property overrides"},cssModule:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>"},description:"CSS module to target internal styles",defaultValue:{value:"{}",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The main content of the modal"}}};export{F as M,p as a};
